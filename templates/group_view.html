{% extends 'base.html' %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Splitgood</title>
    {% block style %}
        {% load customtags %}
        {% load static %}
        <link rel="stylesheet" href="{% static 'css/activity.css' %}">
    {% endblock %}
</head>
<body>

{% block content %}
    <br>
    <div class="container">
        <div class="section">
            <div class="blog-post blog-single-post">
                <div class="single-post-title" id="top-info">
                    <h1> Group Activities</h1>
                </div>
                <div class="nav-bar">
                    <ul>
                        <li><a href="/split/split_expense/?group_id={{ group_id }}">Add-expense</a></li>
                        <li><a href="/settle/process_settle/?group_id={{ group_id }}">Settle Up</a></li>
                        <li><a href="/group/invite_user/?group_id={{ group_id }}">Invite-users</a></li>
                        {% if flag == True %}
                        <li><a href="/group/simply/?group_id={{ group_id }}">Turn off simplified debts</a> </li>
                        {% else %}
                         <li><a href="/group/simply/?group_id={{ group_id }}">Turn on simplified debts</a> </li>
                        {% endif %}
                    </ul>
                </div>

                <div class="single-post-content">
                    <table class="events-list">
                        {% for i in page_obj %}
                            <tr id="data">
                                <td>
                                    <div class="event-date">
                                        <div class="event-day" id="date">
                                            {{ i.date|give_date }}
                                        </div>
                                        <div class="event-month" id="month">
                                            {{ i.date|give_month }}
                                        </div>
                                    </div>
                                    <div class="event-date" id="time">
                                        <div class="event-month">
                                            {{ i.date|give_time }}
                                        </div>
                                    </div>
                                </td>

                                {% if i.activity == "Paid" %}
                                    <td>
                                        <b>{{ i.user__username|check_user:request.user.username }}</b> &nbsp;&nbsp;&nbsp;&nbsp;{{ i.activity }}&nbsp;&nbsp;&nbsp;&nbsp; {{ i.paid_to__lender__username }}&nbsp;&nbsp;&nbsp;&nbsp;
                                        with &nbsp;&nbsp;&nbsp;&nbsp;amount &nbsp;&nbsp;&nbsp;&nbsp;{{ i.amount }}&nbsp;&nbsp;&nbsp;&nbsp;
                                        <label for="cash">
                                            <svg class="icon">
                                                <use xlink:href="#icon-cash"/>
                                            </svg>
                                        </label>
                                    </td>
                                {% elif i.activity == "Added" or i.activity == "Edited" %}
                                    <td>
                                        <b>{{ i.user__username|check_user:request.user.username }}</b> &nbsp;&nbsp;&nbsp;&nbsp;{{ i.activity }}&nbsp;&nbsp;&nbsp;&nbsp;
                                        expense &nbsp;&nbsp;&nbsp;&nbsp;{{ i.expense__expense_name }}&nbsp;&nbsp;&nbsp;&nbsp;
                                        with &nbsp;&nbsp;&nbsp;&nbsp;amount &nbsp;&nbsp;&nbsp;&nbsp;{{ i.amount }}&nbsp;&nbsp;&nbsp;&nbsp;

                                        <label for="receipt">
                                            <svg class="icon">
                                                <use xlink:href="#icon-receipt"/>
                                            </svg>
                                        </label>
                                    </td>
                                {% elif i.activity == "Added User" %}
                                    <td>
                                        <b>{{ i.user__username|check_user:request.user.username }}</b> &nbsp;&nbsp;&nbsp;&nbsp;Added
                                        &nbsp;&nbsp;&nbsp;&nbsp;{{ i.added_id__username|check_user:request.user.username }}&nbsp;&nbsp;&nbsp;&nbsp;

                                    </td>
                                {% endif %}
                            </tr>
                        {% endfor %}
                    </table>

                </div>
            <div class="pagination">
    <span class="step-links">
        {% if page_obj.has_previous %}
            <a href="/group/show_group/?page=1&id={{ group_id }}">&laquo; first</a>
            <a href="/group/show_group/?page={{ page_obj.previous_page_number }}&id={{ group_id }}">previous</a>
        {% endif %}
        {% if page_obj.number > 3 %}
            <span class="ellipsis">...</span>
        {% endif %}

        {% for i in page_obj.paginator.page_range %}
            {% if page_obj.number == i %}
                <span class="current-page">{{ i }}</span>
            {% elif i > page_obj.number|add:'-3' and i < page_obj.number|add:'3' %}
                <a href="/group/show_group/?page={{ i }}&id={{ group_id }}">{{ i }}</a>
            {% elif i == 1 or i == page_obj.paginator.num_pages %}
                <a href="/group/show_group/?page={{ i }}&id={{ group_id }}">{{ i }}</a>
            {% endif %}
        {% endfor %}

        {% if page_obj.number < page_obj.paginator.num_pages|add:'3' %}
            <span class="ellipsis">...</span>
        {% endif %}

        {% if page_obj.has_next %}
            <a href="/group/show_group/?page={{ page_obj.next_page_number }}&id={{ group_id }}">Next</a>
            <a href="/group/show_group/?page={{ page_obj.paginator.num_pages }}&id={{ group_id }}">Last &raquo;</a>
        {% endif %}
    </span>
                </div>
            </div>
        </div>
    </div>
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none">

        <symbol id="icon-receipt" viewBox="0 0 16 16">
            <path d="M1.92.506a.5.5 0 0 1 .434.14L3 1.293l.646-.647a.5.5 0 0 1 .708 0L5 1.293l.646-.647a.5.5 0 0 1 .708 0L7 1.293l.646-.647a.5.5 0 0 1 .708 0L9 1.293l.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .801.13l.5 1A.5.5 0 0 1 15 2v12a.5.5 0 0 1-.053.224l-.5 1a.5.5 0 0 1-.8.13L13 14.707l-.646.647a.5.5 0 0 1-.708 0L11 14.707l-.646.647a.5.5 0 0 1-.708 0L9 14.707l-.646.647a.5.5 0 0 1-.708 0L7 14.707l-.646.647a.5.5 0 0 1-.708 0L5 14.707l-.646.647a.5.5 0 0 1-.708 0L3 14.707l-.646.647a.5.5 0 0 1-.801-.13l-.5-1A.5.5 0 0 1 1 14V2a.5.5 0 0 1 .053-.224l.5-1a.5.5 0 0 1 .367-.27zm.217 1.338L2 2.118v11.764l.137.274.51-.51a.5.5 0 0 1 .707 0l.646.647.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.509.509.137-.274V2.118l-.137-.274-.51.51a.5.5 0 0 1-.707 0L12 1.707l-.646.647a.5.5 0 0 1-.708 0L10 1.707l-.646.647a.5.5 0 0 1-.708 0L8 1.707l-.646.647a.5.5 0 0 1-.708 0L6 1.707l-.646.647a.5.5 0 0 1-.708 0L4 1.707l-.646.647a.5.5 0 0 1-.708 0l-.509-.51z"/>
            <path d="M3 4.5a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zm8-6a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5z"/>
        </symbol>

        <symbol id="icon-cash" viewBox="0 0 25 25">
            <path d="M20,4H4A2,2,0,0,0,2,6V18a2,2,0,0,0,2,2H20a2,2,0,0,0,2-2V6A2,2,0,0,0,20,4Zm-8.5,7h1A2.5,2.5,0,0,1,13,16V16a1,1,0,0,1-2,0H10a1,1,0,0,1,0-2h2.5a.5.5,0,0,0,0-1h-1A2.5,2.5,0,0,1,11,8.05V8a1,1,0,0,1,2,0h1a1,1,0,0,1,0,2H11.5a.5.5,0,0,0,0,1Z"
                  style="fill:#231f20"></path>
        </symbol>

    </svg>
{% endblock %}

</body>
</html>